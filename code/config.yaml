project_name: "SITS_LandCover_Classification"
experiment_id: "EXP_2023_001"

# 1. 输入输出路径 (I/O Paths)
paths:
  data_dir: "../data/"
  csv_labels: "../data/raw/traindata20250626ori.csv"         # 标签CSV文件路径
  static_images_dir: "../data/raster/static/"     # 静态数据（如DEM）文件夹
  dynamic_images_dir: "../data/raster/dynamic/"   # 动态数据（如NDVI、MOD09A1、Sentinel-2）文件夹
  output_dir: "../experiments/outputs/"           # 模型权重与日志保存路径
  temp_dir: "../data/temp/"                       # 临时缓存与中间文件

# 2. 数据规范 (Data Specifications)
data_specs:
  csv_columns:                                    # 映射用户CSV的列名
    id: "Index"
    longitude: "X"
    latitude: "Y"
    major_class: "Formation"
    detail_class: "Alliance"
  
  spatial:
    csv_crs: "auto"                               # CSV 坐标系：'auto' 自动检测，或指定 EPSG 代码
    raster_crs: "auto"                            # 栅格坐标系：'auto' 自动检测，或统一使用的 EPSG 代码
    target_crs: "EPSG:4326"                       # 目标处理坐标系（自动检测失败时使用此值）
    auto_reproject: false                         # 是否自动重投影到目标坐标系（仅当源坐标系不一致时）
    patch_size: 64                                # 训练切片大小 (64x64像素)
    resolution: 250.0                              # 影像重采样分辨率 (米)
  
  temporal:
    pad_value: 0.0                                # 时间序列缺失时的填充值
    missing_value_strategy: "forward_fill"        # 缺失值处理：'zero_padding', 'linear_interpolation', 'forward_fill'
    normalization_method: "zscore"                # 归一化方法：'zscore', 'minmax', 'none'
  
  raster_crawler:
    filename_pattern: 'GPP(?P<year>\d{2})(?P<month>\d{2})(?P<day>\d{2})'  # 正则表达式解析文件名
    file_extensions: ['.tif', '.tiff', ]   # 要扫描的文件后缀
    lazy_loading: true                            # 使用懒加载（仅读取元数据）
    build_rtree_index: true                       # 构建 R-树空间索引

# 3. 模型架构参数 (Model Architecture)
model:
  name: "DSSTFN"                           # 模型名称
  # ⚠️ 以下参数将在运行时自动检测，不应手动设置
  # in_channels_dynamic: 由 RasterCrawler 自动检测
  # in_channels_static: 由 RasterCrawler 自动检测
  # num_classes: 由 LabelEncoder 自动检测
  temporal_encoder: "LTAE"                        # 时间编码器类型
  dropout: 0.2
  hidden_dim: 64                                  # 隐层维度

# 4. 训练超参数 (Training Hyperparameters)
train:
  # 通用配置
  seed: 42
  num_workers: 16          # 数据加载线程数，根据CPU核数调整
  split_ratio: [0.7, 0.15, 0.15] # 训练/验证/测试比例

  # === 大类模型专用超参数 ===
  major_model:
    epochs: 50            # 大类通常数据多，训练轮数可以适中
    batch_size: 64        # 显存允许的情况下尽量大
    learning_rate: 0.0005
    weight_decay: 0.0001
    patience: 10          # 早停耐心值

  # === 小类模型专用超参数 ===
  detail_model:
    epochs: 50            # 小类可能需要更多轮次来拟合细节
    batch_size: 64        # 某些小类样本少，Batch Size 不宜过大
    learning_rate: 0.0005 # 小类微调时学习率可以稍低
    weight_decay: 0.0001
    patience: 15          # 给更多耐心防止过早停止
    min_samples: 5        # 训练所需的最小样本数，少于此数跳过训练